<!DOCTYPE HTML>
<html>
<body>
<script>
    const tree = [
        [1, 2],
        [1, 3],
        [3, 4],
        [4, 5],
        [5, 6],
        [5, 7],
        [1, 7],
        [2, 8],
        [8, 9],
        [9, 11],
        [9, 10],
        [7, 10],
        [10, 12],
        [10, 14],
        [12, 13],
        [14, 15],
    ];
    const exitCondition = 15;

    function mapSearchSpace(startPosition) {
        let accumulator = []
        tree.map(vertex => {
            if (vertex[0] === startPosition) accumulator.push(vertex[1])
        })
        return [...new Set(accumulator)]
    }


    function breathfirst(accumulator, counter, seenVertex) {
        if (!accumulator) {
            return -1
        } else if (accumulator.includes(exitCondition)) {
            return counter
        } else {
            var accumulator2 = []
            accumulator.map(a => {
                if (!seenVertex.includes(a)) accumulator2.push(...mapSearchSpace(a))
            })
            // console.log("acc2", acc2)
            return breathfirst(accumulator2, counter + 1, [...seenVertex, ...accumulator])
        }
    }

    const output = breathfirst(mapSearchSpace(1), 0, [1])
    console.log(output)
    //
    // // init(x,1)
    // // console.log(init(1))

</script>
</body>
</html>